---
import { getCollection, type CollectionEntry, getEntry } from "astro:content";
import MinimalLayout from "../../layouts/MinimalLayout.astro";

export async function getStaticPaths() {
  const posts = await getCollection("mushoku");
  return posts.map((entry) => ({
    params: { slug: entry.slug },
    props: { entry },
  }));
}

type Props = {
  entry: CollectionEntry<"mushoku">;
};

const { entry } = Astro.props;
const { Content } = await entry.render();
---

<MinimalLayout title="Prueba">
  <header
    class="fixed w-full z-10 bg-white [inset-block-start:0] [inset-inline-start:0] border-b border-zinc-100"
  >
    <div
      class="mx-auto flex h-16 max-w-7xl items-center justify-between px-4 sm:px-6 lg:px-8"
    >
      <img
        class="h-8 w-auto"
        src="https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=600"
        alt="Your Company"
      />
      <div class="flex items-center gap-x-8">
        <a href="#" class="-m-1.5 p-1.5">
          <span class="sr-only">Your profile</span>
          <img
            class="h-8 w-8 rounded-full bg-gray-800"
            src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
            alt=""
          />
        </a>
      </div>
    </div>
  </header>

  <nav>
    <aside
      class="w-[18.75rem] fixed z-10 [inset-block:4rem_0] [inset-inline-start:0] overflow-y-auto bg-zinc-50/20 border-e-[1px] border-zinc-100"
    >
      <div class="flex flex-col gap-4 h-full min-h-max pt-4 px-4">Prueba</div>
    </aside>
  </nav>

  <div class="pt-16 ps-[18.75rem]">
    <div class="flex">
      <aside
        class="order-2 relative w-[calc(18.75rem+(100%-45rem-18.75rem)/2)]"
      >
        <div
          class="fixed top-0 border-s-[1px] border-zinc-100 pt-16 w-full h-dvh overflow-y-auto [scrollbar-width:none]"
        >
          <div class="p-4">Preubas 2</div>
        </div>
      </aside>

      <div class="order-1 w-[calc(45rem+(100%-45rem-18.75rem)/2)]">
        <main class="pb-[3vh]">
          <div class="py-6 px-4 md:px-6 prose-h1:mt-4 prose sm:prose-sm">
            <h1>Capitulo 115: El Bazar</h1>
          </div>

          <div class="border-t border-zinc-100 py-6 px-4 md:px-6">
            <div class="prose sm:prose-sm">
              <Content />
            </div>
          </div>
        </main>
      </div>
    </div>
  </div>
</MinimalLayout>
